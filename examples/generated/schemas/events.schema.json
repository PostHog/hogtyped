{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "definitions": {
    "ButtonClicked": {
      "type": "object",
      "properties": {
        "buttonId": {
          "type": "string",
          "description": "The ID of the button that was clicked"
        },
        "buttonText": {
          "type": "string",
          "description": "The text content of the button"
        },
        "page": {
          "type": "string",
          "description": "The page where the button was clicked"
        },
        "timestamp": {
          "type": "number",
          "description": "Unix timestamp of the click"
        }
      },
      "required": ["buttonId", "page"]
    },
    "FormSubmitted": {
      "type": "object",
      "properties": {
        "formId": {
          "type": "string",
          "description": "The ID of the form"
        },
        "formName": {
          "type": "string",
          "description": "The name of the form"
        },
        "fields": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "name": { "type": "string" },
              "type": { "type": "string" },
              "value": { "type": "string" }
            }
          },
          "description": "The fields that were submitted"
        },
        "validationErrors": {
          "type": "array",
          "items": { "type": "string" },
          "description": "Any validation errors that occurred"
        }
      },
      "required": ["formId"]
    },
    "PageViewed": {
      "type": "object",
      "properties": {
        "url": {
          "type": "string",
          "format": "uri",
          "description": "The URL of the page"
        },
        "title": {
          "type": "string",
          "description": "The title of the page"
        },
        "referrer": {
          "type": "string",
          "format": "uri",
          "description": "The referring URL"
        },
        "duration": {
          "type": "number",
          "description": "Time spent on page in seconds"
        }
      },
      "required": ["url"]
    }
  },
  "events": {
    "button_clicked": { "$ref": "#/definitions/ButtonClicked" },
    "form_submitted": { "$ref": "#/definitions/FormSubmitted" },
    "page_viewed": { "$ref": "#/definitions/PageViewed" }
  }
}